---
# Reflection of https://docs.alfresco.com/content-services/latest/support/
# TO BE ENRICHED AS RELEASES ARE OUT
patterns:
  ga: &ga_pattern (\.[0-9]+){1,2}
  ga_with_hotfixes: &ga_hotfixes_pattern (\.[0-9]+){1,3}
  development: &development_pattern (\.[0-9]+){1,3}(-[AM]\.?[0-9]+)?
matrix:
  latest:
    id: 74n
    acs:
      version: "7.4"
      compose_target: &compose >-
        docker-compose/docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvalues >-
        helm/alfresco-content-services/values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: &repository_image quay.io/alfresco/alfresco-content-repository
    share:
      version: "7.4"
      compose_target: *compose
      compose_key: services.share.image
      helm_target: *helmvalues
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: &share_image quay.io/alfresco/alfresco-share
    search:
      version: "^2.0"
      compose_target: *compose
      compose_key: services.solr6.image
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3"
      compose_target: >-
        docker-compose/elasticsearch-override-docker-compose.yml
      compose_key: services.search.image
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.9"
      compose_target: *compose
      compose_key: services.sync-service.image
      helm_target: >-
        helm/alfresco-content-services/values.yaml
      helm_key: alfresco-sync-service.image.tag
      pattern: *ga_hotfixes_pattern
    adw:
      version: "4"
      compose_target: *compose
      compose_key: services.digital-workspace.image
      helm_target: *helmvalues
      helm_key: alfresco-digital-workspace.image.tag
      pattern: *ga_hotfixes_pattern
    adminApp:
      version: "8"
      compose_target: *compose
      compose_key: services.control-center.image
      helm_target: *helmvalues
      helm_key: alfresco-admin-app.image.tag
      pattern: *ga_hotfixes_pattern
    ondrive:
      version: "2"
      helm_target: *helmvalues
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "2"
      helm_target: *helmvalues
      helm_key: msTeamsService.image.tag
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.5.0"
      helm_target: *helmvalues
      helm_key: aiTransformer.image.tag
    trouter:
      version: "~2.1.0"
      compose_target: *compose
      compose_key: services.transform-router.image
      helm_target: *helmvalues
      helm_key: transformrouter.image.tag
    sfs:
      version: "~2.1.0"
      compose_target: *compose
      compose_key: services.shared-file-store.image
      helm_target: *helmvalues
      helm_key: filestore.image.tag
    tengine-misc:
      version: "~3.1.0"
      helm_target: *helmvalues
      helm_key: transformmisc.image.tag
    tengine-im:
      version: "~3.1.0"
      helm_target: *helmvalues
      helm_key: imagemagick.image.tag
    tengine-lo:
      version: "~3.1.0"
      helm_target: *helmvalues
      helm_key: libreoffice.image.tag
    tengine-pdf:
      version: "~3.1.0"
      helm_target: *helmvalues
      helm_key: pdfrenderer.image.tag
    tengine-tika:
      version: "~3.1.0"
      helm_target: *helmvalues
      helm_key: tika.image.tag
  7.3.N:
    id: 73n
    acs:
      version: "7.3"
      compose_target: &compose73 >-
        docker-compose/7.3.N-docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvalues73 >-
        helm/alfresco-content-services/7.3.N_values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.3"
      compose_target: *compose73
      compose_key: services.share.image
      helm_target: *helmvalues73
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "^2.0"
      compose_target: *compose73
      compose_key: services.solr6.image
      helm_target: *helmvalues73
      helm_key: alfresco-search.searchServicesImage.tag
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3"
      helm_target: *helmvalues73
      helm_keys:
        Reindexing: alfresco-search-enterprise.reindexing.image.tag
        Liveindexing:
          Mediation: >-
            alfresco-search-enterprise.liveIndexing.mediation.image.tag
          Content: >-
            alfresco-search-enterprise.liveIndexing.content.image.tag
          Metadata: >-
            alfresco-search-enterprise.liveIndexing.metadata.image.tag
          Path: >-
            alfresco-search-enterprise.liveIndexing.path.image.tag
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.8"
      compose_target: *compose73
      compose_key: services.sync-service.image
      helm_target: *helmvalues73
      helm_key: alfresco-sync-service.image.tag
      pattern: *ga_hotfixes_pattern
    adw:
      version: "3.1"
      compose_target: *compose73
      compose_key: services.digital-workspace.image
      helm_target: *helmvalues73
      helm_key: alfresco-digital-workspace.image.tag
      pattern: *ga_pattern
    adminApp:
      version: "7"
      compose_target: *compose73
      compose_key: services.control-center.image
      helm_target: *helmvalues73
      helm_key: alfresco-admin-app.image.tag
      pattern: *ga_pattern
    ondrive:
      version: "2.0"
      helm_target: *helmvalues73
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      helm_target: *helmvalues73
      helm_key: msTeamsService.image.tag
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.5.0"
      helm_target: *helmvalues73
      helm_key: aiTransformer.image.tag
    trouter:
      version: "~2.0.0"
      compose_target: *compose73
      compose_key: services.transform-router.image
      helm_target: *helmvalues73
      helm_key: transformrouter.image.tag
    sfs:
      version: "~2.0.0"
      compose_target: *compose73
      compose_key: services.shared-file-store.image
      helm_target: *helmvalues73
      helm_key: filestore.image.tag
    tengine-misc:
      version: "~3.0.0"
      helm_target: *helmvalues73
      helm_key: transformmisc.image.tag
    tengine-im:
      version: "~3.0.0"
      helm_target: *helmvalues73
      helm_key: imagemagick.image.tag
    tengine-lo:
      version: "~3.0.0"
      helm_target: *helmvalues73
      helm_key: libreoffice.image.tag
    tengine-pdf:
      version: "~3.0.0"
      helm_target: *helmvalues73
      helm_key: pdfrenderer.image.tag
    tengine-tika:
      version: "~3.0.0"
      helm_target: *helmvalues73
      helm_key: tika.image.tag
  7.2.N:
    id: 72n
    acs:
      version: "7.2"
      compose_target: &compose72 >-
        docker-compose/7.2.N-docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvalues72 >-
        helm/alfresco-content-services/7.2.N_values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.2"
      compose_target: *compose72
      compose_key: services.share.image
      helm_target: *helmvalues72
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "^2.0"
      compose_target: *compose72
      compose_key: services.solr6.image
      helm_target: *helmvalues72
      helm_key: alfresco-search.searchServicesImage.tag
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3"
      helm_target: *helmvalues72
      helm_keys:
        Reindexing: alfresco-search-enterprise.reindexing.image.tag
        Liveindexing:
          Mediation: >-
            alfresco-search-enterprise.liveIndexing.mediation.image.tag
          Content: >-
            alfresco-search-enterprise.liveIndexing.content.image.tag
          Metadata: >-
            alfresco-search-enterprise.liveIndexing.metadata.image.tag
          Path: >-
            alfresco-search-enterprise.liveIndexing.path.image.tag
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.7"
      compose_target: *compose72
      compose_key: services.sync-service.image
      helm_target: *helmvalues72
      helm_key: alfresco-sync-service.image.tag
      pattern: *ga_hotfixes_pattern
    adw:
      version: "3.0"
      compose_target: *compose72
      compose_key: services.digital-workspace.image
      helm_target: *helmvalues72
      helm_key: alfresco-digital-workspace.image.tag
      pattern: *ga_pattern
    adminApp:
      version: "7"
      compose_target: *compose72
      compose_key: services.control-center.image
      helm_target: *helmvalues72
      helm_key: alfresco-admin-app.image.tag
      pattern: *ga_pattern
    ondrive:
      version: "2.0"
      helm_target: *helmvalues72
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      helm_target: *helmvalues72
      helm_key: msTeamsService.image.tag
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.5.0"
      helm_target: *helmvalues72
      helm_key: aiTransformer.image.tag
    trouter:
      version: "~2.0.0"
      compose_target: *compose72
      compose_key: services.transform-router.image
      helm_target: *helmvalues72
      helm_key: transformrouter.image.tag
    sfs:
      version: "~2.0.0"
      compose_target: *compose72
      compose_key: services.shared-file-store.image
      helm_target: *helmvalues72
      helm_key: filestore.image.tag
    tengine-misc:
      version: "^2.5.0"
      helm_target: *helmvalues72
      helm_key: transformmisc.image.tag
    tengine-im:
      version: "^2.5.0"
      helm_target: *helmvalues72
      helm_key: imagemagick.image.tag
    tengine-lo:
      version: "^2.5.0"
      helm_target: *helmvalues72
      helm_key: libreoffice.image.tag
    tengine-pdf:
      version: "^2.5.0"
      helm_target: *helmvalues72
      helm_key: pdfrenderer.image.tag
    tengine-tika:
      version: "^2.5.0"
      helm_target: *helmvalues72
      helm_key: tika.image.tag
  7.1.N:
    id: 71n
    acs:
      version: "7.1"
      compose_target: &compose71 >-
        docker-compose/7.1.N-docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvalues71 >-
        helm/alfresco-content-services/7.1.N_values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.1"
      compose_target: *compose71
      compose_key: services.share.image
      helm_target: *helmvalues71
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "^2.0"
      compose_target: *compose71
      compose_key: services.solr6.image
      helm_target: *helmvalues71
      helm_key: alfresco-search.searchServicesImage.tag
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3"
      helm_target: *helmvalues71
      helm_keys:
        Reindexing: alfresco-search-enterprise.reindexing.image.tag
        Liveindexing:
          Mediation: >-
            alfresco-search-enterprise.liveIndexing.mediation.image.tag
          Content: >-
            alfresco-search-enterprise.liveIndexing.content.image.tag
          Metadata: >-
            alfresco-search-enterprise.liveIndexing.metadata.image.tag
          Path: >-
            alfresco-search-enterprise.liveIndexing.path.image.tag
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.7"
      compose_target: *compose71
      compose_key: services.sync-service.image
      helm_target: *helmvalues71
      helm_key: alfresco-sync-service.image.tag
      pattern: *ga_hotfixes_pattern
    adw:
      version: "2.6"
      compose_target: *compose71
      compose_key: services.digital-workspace.image
      helm_target: *helmvalues71
      helm_key: alfresco-digital-workspace.image.tag
      pattern: *ga_pattern
    ondrive:
      version: "2.0"
      helm_target: *helmvalues71
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      helm_target: *helmvalues71
      helm_key: msTeamsService.image.tag
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "^1.4.0"
      helm_target: *helmvalues71
      helm_key: aiTransformer.image.tag
    trouter:
      version: "^1.5.0"
      compose_target: *compose71
      compose_key: services.transform-router.image
      helm_target: *helmvalues71
      helm_key: transformrouter.image.tag
    sfs:
      version: "^1.5.0"
      compose_target: *compose71
      compose_key: services.shared-file-store.image
      helm_target: *helmvalues71
      helm_key: filestore.image.tag
    tengine-misc:
      version: "^2.5.0"
      helm_target: *helmvalues
      helm_key: transformmisc.image.tag
    tengine-im:
      version: "^2.5.0"
      helm_target: *helmvalues71
      helm_key: imagemagick.image.tag
    tengine-lo:
      version: "^2.5.0"
      helm_target: *helmvalues71
      helm_key: libreoffice.image.tag
    tengine-pdf:
      version: "^2.5.0"
      helm_target: *helmvalues71
      helm_key: pdfrenderer.image.tag
    tengine-tika:
      version: "^2.5.0"
      helm_target: *helmvalues71
      helm_key: tika.image.tag
  7.0.N:
    id: 70n
    acs:
      version: "7.0"
      compose_target: &compose70 >-
        docker-compose/7.0.N-docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvalues70 >-
        helm/alfresco-content-services/7.0.N_values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.0"
      compose_target: *compose70
      compose_key: services.share.image
      helm_target: *helmvalues70
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "^2.0"
      compose_target: *compose70
      compose_key: services.solr6.image
      helm_target: *helmvalues70
      helm_key: alfresco-search.searchServicesImage.tag
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    sync:
      version: "3.7"
      compose_target: *compose70
      compose_key: services.sync-service.image
      helm_target: *helmvalues70
      helm_key: alfresco-sync-service.image.tag
      pattern: *ga_hotfixes_pattern
    adw:
      version: "2.6"
      compose_target: *compose70
      compose_key: services.digital-workspace.image
      helm_target: *helmvalues70
      helm_key: alfresco-digital-workspace.image.tag
      pattern: *ga_pattern
    ondrive:
      version: "2.0"
      helm_target: *helmvalues70
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "^1.3.0"
      helm_target: *helmvalues70
      helm_key: aiTransformer.image.tag
    trouter:
      version: "^1.5.0"
      compose_target: *compose70
      compose_key: services.transform-router.image
      helm_target: *helmvalues70
      helm_key: transformrouter.image.tag
    sfs:
      version: "^1.5.0"
      compose_target: *compose70
      compose_key: services.shared-file-store.image
      helm_target: *helmvalues70
      helm_key: filestore.image.tag
    tengine-misc:
      version: "^2.5.0"
      helm_target: *helmvalues
      helm_key: transformmisc.image.tag
    tengine-im:
      version: "^2.5.0"
      helm_target: *helmvalues70
      helm_key: imagemagick.image.tag
    tengine-lo:
      version: "^2.5.0"
      helm_target: *helmvalues70
      helm_key: libreoffice.image.tag
    tengine-pdf:
      version: "^2.5.0"
      helm_target: *helmvalues70
      helm_key: pdfrenderer.image.tag
    tengine-tika:
      version: "^2.5.0"
      helm_target: *helmvalues70
      helm_key: tika.image.tag
  community:
    id: com
    acs:
      version: "7.4"
      compose_target: &composeOss >-
        docker-compose/community-docker-compose.yml
      compose_key: services.alfresco.image
      helm_target: &helmvaluesOss >-
        helm/alfresco-content-services/community_values.yaml
      helm_key: repository.image.tag
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-content-repository-community
    share:
      version: "7.4"
      compose_target: *composeOss
      compose_key: services.share.image
      helm_target: *helmvaluesOss
      helm_key: share.image.tag
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-share
    search:
      version: "^2.0"
      compose_target: *composeOss
      compose_key: services.solr6.image
      helm_target: *helmvaluesOss
      helm_key: alfresco-search.searchServicesImage.tag
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-search-services
    ondrive:
      version: "1.1"
      helm_target: *helmvaluesOss
      helm_key: ooiService.image.tag
      pattern: *ga_hotfixes_pattern
    tengine-aio:
      compose_target: *composeOss
      compose_key: services.transform-core-aio.image
      version: "^3.1.0"
