{{- define "default-security-context" }}
    runAsNonRoot: true
{{- end }}

{{- define "component-pod-security-context" }}
  securityContext:
{{- if .podSecurityContext }}
    {{- .podSecurityContext | toYaml | nindent 4 }}
{{- else }}
{{- include "default-security-context" . }}
{{- end }}
{{- end }}

{{- define "component-security-context" }}
  securityContext:
{{- if .securityContext }}
  {{- .securityContext | toYaml | nindent 4 }}
{{- else }}
{{- include "default-security-context" . }}
{{- end }}
{{- end }}
